<!DOCTYPE html>
<html>
<head>
<title>User Dashboard</title>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
</head>
<body>

<h2>My Dashboard</h2>

<button onclick="location.href='received.html'">Received Interests</button>
<button onclick="location.href='sent.html'">Sent Interests</button>

<h3>My Profile Status:</h3>
<div id="profileStatus"></div>

<script>
firebase.initializeApp({
 apiKey:"AIzaSyAhrYtSAdorLMYgBIPeEnXk2nFDG_M65Wc",
 authDomain:"zara-muslim-nikah.firebaseapp.com",
 databaseURL:"https://zara-muslim-nikah-default-rtdb.firebaseio.com",
 projectId:"zara-muslim-nikah"
});

const auth=firebase.auth();
const db=firebase.database();

auth.onAuthStateChanged(user=>{
 if(!user){
   window.location="index.html";
   return;
 }

 db.ref("users/"+user.uid).once("value").then(snap=>{
   if(snap.exists()){
     document.getElementById("profileStatus").innerHTML =
       snap.val().status.toUpperCase();
   }
 });
});
</script>

</body>
</html>
